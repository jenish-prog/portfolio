{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nfunction useValueAnimation(ref, end, duration) {\n  _s();\n  const [value, setValue] = useState(0);\n  const [isVisible, setIsVisible] = useState(false);\n  const animationFrameId = useRef(null);\n  const startTimeRef = useRef(null);\n  const animate = timestamp => {\n    if (!startTimeRef.current) startTimeRef.current = timestamp;\n    const progress = Math.min((timestamp - startTimeRef.current) / duration, 1);\n    setValue(Math.floor(progress * end));\n    if (progress < 1) {\n      animationFrameId.current = requestAnimationFrame(animate);\n    }\n  };\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsVisible(true);\n        observer.unobserve(entry.target);\n      }\n    }, {\n      threshold: 0.1\n    });\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n    return () => {\n      if (ref.current) {\n        observer.unobserve(ref.current);\n      }\n    };\n  }, [ref]);\n  useEffect(() => {\n    if (isVisible) {\n      animationFrameId.current = requestAnimationFrame(animate);\n    }\n    return () => cancelAnimationFrame(animationFrameId.current);\n  }, [isVisible, end, duration]);\n  return value;\n}\n_s(useValueAnimation, \"ARXOIiSm9/XCbQa9RNBEOZA5d2o=\");\nexport default useValueAnimation;","map":{"version":3,"names":["useState","useEffect","useRef","useValueAnimation","ref","end","duration","_s","value","setValue","isVisible","setIsVisible","animationFrameId","startTimeRef","animate","timestamp","current","progress","Math","min","floor","requestAnimationFrame","observer","IntersectionObserver","entry","isIntersecting","unobserve","target","threshold","observe","cancelAnimationFrame"],"sources":["/workspaces/portfolio/src/useValueAnimation.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nfunction useValueAnimation(ref, end, duration) {\n  const [value, setValue] = useState(0);\n  const [isVisible, setIsVisible] = useState(false);\n  const animationFrameId = useRef(null);\n  const startTimeRef = useRef(null);\n\n  const animate = (timestamp) => {\n    if (!startTimeRef.current) startTimeRef.current = timestamp;\n    const progress = Math.min((timestamp - startTimeRef.current) / duration, 1);\n    setValue(Math.floor(progress * end));\n    if (progress < 1) {\n      animationFrameId.current = requestAnimationFrame(animate);\n    }\n  };\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsVisible(true);\n          observer.unobserve(entry.target);\n        }\n      },\n      {\n        threshold: 0.1,\n      }\n    );\n\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n\n    return () => {\n      if (ref.current) {\n        observer.unobserve(ref.current);\n      }\n    };\n  }, [ref]);\n\n  useEffect(() => {\n    if (isVisible) {\n      animationFrameId.current = requestAnimationFrame(animate);\n    }\n    return () => cancelAnimationFrame(animationFrameId.current);\n  }, [isVisible, end, duration]);\n\n  return value;\n}\n\nexport default useValueAnimation;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEnD,SAASC,iBAAiBA,CAACC,GAAG,EAAEC,GAAG,EAAEC,QAAQ,EAAE;EAAAC,EAAA;EAC7C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAMY,gBAAgB,GAAGV,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMW,YAAY,GAAGX,MAAM,CAAC,IAAI,CAAC;EAEjC,MAAMY,OAAO,GAAIC,SAAS,IAAK;IAC7B,IAAI,CAACF,YAAY,CAACG,OAAO,EAAEH,YAAY,CAACG,OAAO,GAAGD,SAAS;IAC3D,MAAME,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAAC,CAACJ,SAAS,GAAGF,YAAY,CAACG,OAAO,IAAIV,QAAQ,EAAE,CAAC,CAAC;IAC3EG,QAAQ,CAACS,IAAI,CAACE,KAAK,CAACH,QAAQ,GAAGZ,GAAG,CAAC,CAAC;IACpC,IAAIY,QAAQ,GAAG,CAAC,EAAE;MAChBL,gBAAgB,CAACI,OAAO,GAAGK,qBAAqB,CAACP,OAAO,CAAC;IAC3D;EACF,CAAC;EAEDb,SAAS,CAAC,MAAM;IACd,MAAMqB,QAAQ,GAAG,IAAIC,oBAAoB,CACvC,CAAC,CAACC,KAAK,CAAC,KAAK;MACX,IAAIA,KAAK,CAACC,cAAc,EAAE;QACxBd,YAAY,CAAC,IAAI,CAAC;QAClBW,QAAQ,CAACI,SAAS,CAACF,KAAK,CAACG,MAAM,CAAC;MAClC;IACF,CAAC,EACD;MACEC,SAAS,EAAE;IACb,CACF,CAAC;IAED,IAAIxB,GAAG,CAACY,OAAO,EAAE;MACfM,QAAQ,CAACO,OAAO,CAACzB,GAAG,CAACY,OAAO,CAAC;IAC/B;IAEA,OAAO,MAAM;MACX,IAAIZ,GAAG,CAACY,OAAO,EAAE;QACfM,QAAQ,CAACI,SAAS,CAACtB,GAAG,CAACY,OAAO,CAAC;MACjC;IACF,CAAC;EACH,CAAC,EAAE,CAACZ,GAAG,CAAC,CAAC;EAETH,SAAS,CAAC,MAAM;IACd,IAAIS,SAAS,EAAE;MACbE,gBAAgB,CAACI,OAAO,GAAGK,qBAAqB,CAACP,OAAO,CAAC;IAC3D;IACA,OAAO,MAAMgB,oBAAoB,CAAClB,gBAAgB,CAACI,OAAO,CAAC;EAC7D,CAAC,EAAE,CAACN,SAAS,EAAEL,GAAG,EAAEC,QAAQ,CAAC,CAAC;EAE9B,OAAOE,KAAK;AACd;AAACD,EAAA,CA/CQJ,iBAAiB;AAiD1B,eAAeA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}